
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Vim 基本配置 - 812lcl的博客</title>
	<meta name="author" content="812lcl">

	
	<meta name="description" content="Contents General Formatting Key (re)Mappings Vim UIVim是个强大的编辑器，在各种插件的辅助下甚至也能匹敌IDE，但也不能过分的依赖来各种插件，而忘记来Vim原本的功能与操作。Vim本身的功能很强大，学习曲线很曲折，需要我们慢慢的来学习， &hellip;">
	<meta name="keywords" content="vim, linux, set">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="812lcl的博客" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">812lcl的博客</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Home</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/blog/categories/linux">Linux</a></li>
	<li><a href="/blog/categories/vim">Vim</a></li>
	<li><a href="/category-cloud">Category</a></li>
	<li><a href="/about">About</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Home</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/blog/categories/linux">Linux</a></li>
	<li><a href="/blog/categories/vim">Vim</a></li>
	<li><a href="/category-cloud">Category</a></li>
	<li><a href="/about">About</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
            <form action="/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:812lcl.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		
		<a class="github" href="https://github.com/812lcl" title="GitHub">GitHub</a>
		
        
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
        
	</div>

    <!-- default search
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
        <input type="hidden" name="q" value="site:812lcl.com"> 
	</form>
    -->

    <!-- tapir search
    <form method="get" action="/search.html" id="search" class="search">
        <input name="query" type="text" placeholder="Search..." x-webkit-speech />
    </form>
    -->

	<form class="search" action="/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
	</form>

</nav>

</header>
	
		
	
	<div id="content" class="inner"><article class="post">
    
	<h2 class="title">Vim 基本配置</h2>
	<div class="entry-content">
        <div id='markdir'><p><strong>Contents</strong></p>    <a href="#markdir102">General</a><br/>    <a href="#markdir103">Formatting</a><br/>    <a href="#markdir104">Key (re)Mappings</a><br/>    <a href="#markdir105">Vim UI</a><br/></div><p>Vim是个强大的编辑器，在各种插件的辅助下甚至也能匹敌IDE，但也不能过分的依赖来各种插件，而忘记来Vim原本的功能与操作。Vim本身的功能很强大，学习曲线很曲折，需要我们慢慢的来学习，多多的使用。Vim自身有很多配置选项，可以在<code>~/.vimrc</code>中配置，从而方便我们操作。使用Vim也有一段时间来，也有了一套自己习惯好用的<a href="https://github.com/812lcl/dotfiles">配置</a>，下面列出我的基本配置。</p>

<span id ="markdir102"></span><h2>General</h2>

<p>一些基本配置</p>

<pre><code>syntax on                       " 关键字上色
syntax enable                   " 语法高亮
set nu                          " 显示行号
set nocp                        " 不兼容vi
set hidden                      " 允许不保存切换buffer
set splitright                  " 新分割窗口在右边
set splitbelow                  " 新分割窗口在下边
set autoread                    " 文件在Vim之外修改过，自动重新读入
set timeoutlen=350              " 等待时间,如&lt;leader&gt;键后的输入
set helpheight=999              " 查看帮助文档全屏
set scrolljump=3                " 当光标离开屏幕滑动行数
set scrolloff=1                 " 保持在光标上下最少行数
set showmatch                   " 短暂回显匹配括号
</code></pre>

<!--more-->


<pre><code>set hlsearch                    " 检索时高亮显示匹配项
set incsearch                   " 边输入边搜索
set ignorecase                  " 搜索忽略大小写
set smartcase                   " 智能大小写搜索

set wildmenu                    " 命令模式下补全以菜单形式显示
set wildmode=list:longest,full  " 命令模式补全模式
set foldenable                  " 启动折叠
set foldmethod=marker           " 设置折叠模式
set encoding=utf-8              " 编码，使汉语正常显示
set termencoding=utf-8
set fileencodings=utf-8,gb2312,gbk,gb18030
</code></pre>

<p>还有相关的编码问题可以参考<a href="http://edyfox.codecarver.org/html/vim_fileencodings_detection.html">VIM文件编码识别与乱码处理</a>。</p>

<span id ="markdir103"></span><h2>Formatting</h2>

<p>关于缩进</p>

<pre><code>set expandtab                   " tab=空格
set tabstop=4                   " tab缩进4个空格
set shiftwidth=4                " 自动缩进空格数
set softtabstop=4               " 退格删除缩进
set backspace=indent,start      " 退格可删除缩进和原有字符
set autoindent                  " 与前一行同样等级缩进
</code></pre>

<p>当切割窗口显示多文件时，如果窗口大小改变，本来分布均匀的窗口不会重新调整大小，变得很难看，可以添加下面这条来配置自动调整大小。</p>

<pre><code>au VimResized * exe "normal! \&lt;c-w&gt;="
</code></pre>

<p>在粘贴时候，如果前边的行带有注释符号，如<code>#</code>、<code>//</code>、<code>"</code>等时，后边的行会自动加上注释符号，很是麻烦，下面可以配置不自动添加成注释。</p>

<pre><code>au BufReadPost * if line("'\"") &gt; 0|if line("'\"") &lt;= line("$")|exe("norm '\"")|else|exe "no rm $"|endif|endif
autocmd FileType * setlocal formatoptions-=c formatoptions-=r formatoptions-=o
</code></pre>

<span id ="markdir104"></span><h2>Key (re)Mappings</h2>

<p>一些按键的重映射，很多用了真是让人上瘾，而且便捷很多，如<code>&lt;Esc&gt;</code>用<code>jj</code>来代替，还有一些常输错的一些命令的修正，如<code>Q</code>、<code>W</code>等。</p>

<pre><code>let mapleader=","           " 映射&lt;leader&gt;键到为,
nmap j gj
nmap k gk
inoremap jj &lt;ESC&gt;
nnoremap &lt;silent&gt; J :bp&lt;CR&gt;
nnoremap &lt;silent&gt; K :bn&lt;CR&gt;
noremap &lt;silent&gt;&lt;space&gt; :set hls! hls?&lt;CR&gt;
noremap &lt;silent&gt;&lt;Leader&gt;s :set rnu! rnu?&lt;CR&gt;
noremap &lt;silent&gt;&lt;Leader&gt;l :set list! list?&lt;CR&gt;
nnoremap &lt;Leader&gt;c @=((foldclosed(line('.')) &lt; 0) ? 'zc' : 'zo')&lt;CR&gt;

" 更方便窗口间移动
nnoremap &lt;C-h&gt; &lt;C-w&gt;h
nnoremap &lt;C-j&gt; &lt;C-w&gt;j
nnoremap &lt;C-k&gt; &lt;C-w&gt;k
nnoremap &lt;C-l&gt; &lt;C-w&gt;l

" 命令模式按键映射
cnoremap &lt;C-a&gt; &lt;Home&gt;
cnoremap &lt;C-e&gt; &lt;End&gt;
cnoremap &lt;C-p&gt; &lt;Up&gt;
cnoremap &lt;C-n&gt; &lt;Down&gt;

" Tab操作
nnoremap &lt;Leader&gt;tc :tabc&lt;CR&gt;
nnoremap &lt;Leader&gt;tn :tabn&lt;CR&gt;
nnoremap &lt;Leader&gt;tp :tabp&lt;CR&gt;
nnoremap &lt;Leader&gt;te :tabe&lt;Space&gt;

" 修正易错命令
command -bang -nargs=* Q q&lt;bang&gt;
command -bang -nargs=* Wa wa&lt;bang&gt;
command -bang -nargs=* WA wa&lt;bang&gt;
command -bang -nargs=* -complete=file W w&lt;bang&gt; &lt;args&gt;
command -bang -nargs=* -complete=file Wq wq&lt;bang&gt; &lt;args&gt;
command -bang -nargs=* -complete=file WQ wq&lt;bang&gt; &lt;args&gt;
</code></pre>

<span id ="markdir105"></span><h2>Vim UI</h2>

<p>因为我主要在终端使用Vim，所以一些UI的配置是针对终端的。GUI的话基本相似，把<code>ctermbg</code>等换成<code>guibg</code>等就可以了。</p>

<pre><code>set t_Co=256                    " 终端显示256色
set tabpagemax=15               " 最多15个Tab
set showmode                    " 显示当前mode
set cursorline                  " 高亮当前行
set list                        " 显示特殊符号
set listchars=tab:›\ ,trail:•,extends:#,nbsp:.

hi clear SignColumn             " 标记列背景和主题背景匹配
hi clear LineNr                 " 当前行列背景和主题背景匹配

hi CursorLineNr ctermfg=red
hi VertSplit ctermbg=Grey ctermfg=Grey cterm=none
hi Visual ctermbg=81 ctermfg=black cterm=none
hi Comment ctermfg=blue
hi Statement ctermfg=cyan
hi DiffAdd ctermbg=blue ctermfg=white
hi DiffDelete ctermbg=green ctermfg=none
hi DiffChange ctermbg=red ctermfg=White
hi DiffText ctermbg=yellow ctermfg=black

if has('cmdline_info')
    set showcmd                 " 右下角显示当前操作
    set ruler                   " 右下角显示状态说明
    set rulerformat=%30(%=\:b%n%y%m%r%w\ %l,%c%V\ %P%) " 设定格式
endif

if has('statusline')
    set laststatus=1
    set statusline=%&lt;%f\                     " Filename
    set statusline+=%w%h%m%r                 " Options
    set statusline+=\ [%{&amp;ff}/%Y]            " Filetype
    set statusline+=\ [%{getcwd()}]          " Current dir
    set statusline+=%=%-14.(%l,%c%V%)\ %p%%  " Right aligned file nav info
endif
</code></pre>

<p class='post-footer'>
            original link:<a href='http://812lcl.com/blog/2014/04/05/vim-ji-ben-pei-zhi/'>http://812lcl.com/blog/2014/04/05/vim-ji-ben-pei-zhi/</a><br/>&nbsp;written by <a href='http://812lcl.com'>812lcl</a>&nbsp;posted at <a href='http://812lcl.com'>http://812lcl.com</a></p>


        <div>
        
        <a class="pull-left" href="/blog/2014/04/03/linuxming-ling-xue-xi-%281%29%3Adiffhe-patch/" title="Previous Post: Linux命令学习（1）：diff 和 patch">&laquo; Linux命令学习（1）：diff 和 patch</a>
        
        
        <a class="pull-right" href="/blog/2014/05/04/linuxming-ling-xue-xi-%282%29%3Arsync/" title="Next Post: Linux命令学习（2）：rsync">Linux命令学习（2）：rsync &raquo;</a>
        
        <div class="clear"></div>
        </div>
        
            <div class="share">
	<div class="addthis_toolbox addthis_default_style ">
		
		
		
		
	</div>
	
    
    <!-- JiaThis BEGIN -->
<div class="jiathis_style_32x32">
	<a class="jiathis_button_qzone"></a>
	<a class="jiathis_button_tsina"></a>
	<a class="jiathis_button_tqq"></a>
	<a class="jiathis_button_weixin"></a>
	<a class="jiathis_button_renren"></a>
	<a href="http://www.jiathis.com/share?uid=1850190" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1361705530382241" charset="utf-8"></script>
<!-- JiaThis END -->

<!-- Baidu Button BEGIN 
<div id="bdshare" class="bdshare_t bds_tools_32 get-codes-bdshare">
	<a class="bds_tsina"></a>
	<a class="bds_qzone"></a>
	<a class="bds_tqq"></a>
	<a class="bds_renren"></a>
	<a class="bds_t163"></a>
	<a class="bds_hi"></a>
	<span class="bds_more"></span>
	<a class="shareCount"></a>
</div>
<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=6839808" ></script>
<script type="text/javascript" id="bdshell_js"></script>
<script type="text/javascript">
	document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
</script>
 Baidu Button END -->

<!-- UY BEGIN -->
<div id="uyan_frame"></div>
<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=1850190"></script>
<!-- UY END -->

    
</div>

        
    </div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-04-05T21:44:00+08:00" pubdate data-updated="true">Apr 5<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/vim/'>Vim</a>


</div>
    <div class="comments"><a href="#comments" id="uyan_count_unit" du="" su="">0条评论</a>
    <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=1850190"></script>
    </div>
	

<div class="tags">
  
  <a class='tag' href='/blog/tags/linux/'>linux</a>, <a class='tag' href='/blog/tags/vim/'>vim</a>, <a class='tag' href='/blog/tags/bian-cheng-huan-jing/'>编程环境</a>, <a class='tag' href='/blog/tags/bian-ji-qi/'>编辑器</a>
  
</div>


	
</div>

    <div class="meta">
        <div class="date">








  


<time datetime="2014-04-05T21:44:00+08:00" pubdate data-updated="true">Apr 5<span>th</span>, 2014</time></div>
        <div class="tags">


	<a class='category' href='/blog/categories/vim/'>Vim</a>


</div>
        <div class="comments"><a href="#comments" id="uyan_count_unit" du="" su="">0条评论</a>
            <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=1850190"></script>
        </div>
        

<div class="tags">
  
  <a class='tag' href='/blog/tags/linux/'>linux</a>, <a class='tag' href='/blog/tags/vim/'>vim</a>, <a class='tag' href='/blog/tags/bian-cheng-huan-jing/'>编程环境</a>, <a class='tag' href='/blog/tags/bian-ji-qi/'>编辑器</a>
  
</div>


        <br />
        <section>
            <h2>相关文章：</h2>
            <ul class="posts">
                
                <li class="related">
                <a href="/blog/2013/12/06/vimbu-quan-pei-zhi/">Vim补全配置</a>
                </li>
                
                <li class="related">
                <a href="/blog/2013/12/04/vimcha-jian-pei-zhi-xu/">Vim插件配置续</a>
                </li>
                
                <li class="related">
                <a href="/blog/2013/10/24/vimcha-jian-pei-zhi-%2Cbi-jian-ide/">Vim插件配置，比肩IDE</a>
                </li>
                
                <li class="related">
                <a href="/blog/2013/10/23/duo-xi-tong-linuxan-zhuang-ji-pei-zhi/">多系统Linux安装及配置</a>
                </li>
                
                <li class="related">
                <a href="/blog/2014/05/04/linuxming-ling-xue-xi-%282%29%3Arsync/">Linux命令学习（2）：rsync</a>
                </li>
                
                <li class="related">
                <a href="/blog/2014/04/03/linuxming-ling-xue-xi-%281%29%3Adiffhe-patch/">Linux命令学习（1）：diff 和 patch</a>
                </li>
                
            </ul>
        </section>
        <br />
        <section>
 <h1>分类目录</h1>
 <ul id="categories">
	 <li class='category'><a href='/blog/categories/linux/'>Linux (2)</a></li>
<li class='category'><a href='/blog/categories/octopress/'>Octopress (4)</a></li>
<li class='category'><a href='/blog/categories/vim/'>Vim (4)</a></li>
<li class='category'><a href='/blog/categories/mo-dao-li-ren/'>磨刀利刃 (1)</a></li>
<li class='category'><a href='/blog/categories/zi-wo-ji-li/'>自我激励 (1)</a></li>
<li class='category'><a href='/blog/categories/zhong-xue-cyu-yan/'>重学C语言 (4)</a></li>

 </ul>
</section>

        <br />
        <section>
  <h1>最近博文</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/05/04/linuxming-ling-xue-xi-%282%29%3Arsync/">Linux命令学习（2）：rsync</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/05/vim-ji-ben-pei-zhi/">Vim 基本配置</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/03/linuxming-ling-xue-xi-%281%29%3Adiffhe-patch/">Linux命令学习（1）：diff 和 patch</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/28/zhong-xue-cyu-yan-si-bian-liang-chu-shi-hua/">重学C语言(四)——变量初始化</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/22/zhong-xue-cyu-yan-san-fu-za-sheng-ming-fen-xi/">重学C语言(三)——复杂声明分析</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/21/zhong-xue-cyu-yan-er-yun-suan-fu-you-xian-ji-yu-ji-suan-shun-xu/">重学C语言(二)——运算符优先级与计算顺序</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/17/zhong-xue-cyu-yan-%5B%3F%5D-lei-xing-zhuan-huan/">重学C语言(一)——类型转换</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/06/vimbu-quan-pei-zhi/">Vim补全配置</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/04/vimcha-jian-pei-zhi-xu/">Vim插件配置续</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/29/octopresstian-jia-tong-ji-yu-seo/">Octopress添加统计与SEO</a>
      </li>
    
  </ul>
</section>

        <br />
        <section>
<h1>评论热榜</h1>
<div id="uyan_hotcmt_unit"></div>
	<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=1850190"></script>
</section>

        <section>
<h1>最新评论</h1>
<div id="uyan_newcmt_unit"></div>
	<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=1850190"></script>
</section>

    </div>
</article>

</div>
	<footer id="footer" class="inner">Copyright &copy; 2014

    812lcl

  <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1000106316'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s22.cnzz.com/z_stat.php%3Fid%3D1000106316%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
  <script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F9fd7584d53a3ee603561e6c98cdf98cd' type='text/javascript'%3E%3C/script%3E"));
  </script>

</footer>
	<script src="/javascripts/slash.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49529601-1', '812lcl.com');
  ga('send', 'pageview');

</script>



    <!--返回顶部开始-->
<div id="full" style="width:0px; height:0px; position:fixed; right:180px; bottom:150px; z-index:100; text-align:center; background-color:transparent; cursor:pointer;">
	<a href="#" onclick="goTop();return false;"><img src="/images/top.png" border=0 alt="返回顶部"></a>
</div>
<script src="/javascripts/top.js" type="text/javascript"></script>
<!--返回顶部结束-->

</body>
</html>
